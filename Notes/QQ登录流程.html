<html>
<head>
  <title>QQ登录流程</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/267864 (zh-CN); Windows/6.1.7601 Service Pack 1;"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1360"/>
<h1>QQ登录流程</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div align="left"><a href="http://www.cnblogs.com/hackren/archive/2010/10/22/hackren.html"><font color="#0000FF" face="微软雅黑"><span style="font-size:11pt"><u>http://www.cnblogs.com/hackren/archive/2010/10/22/hackren.html</u></span></font></a><font color="#010101" face="微软雅黑"><span style="font-size:11pt">  文章</span></font></div><div align="left"><a href="http://ptlogin2.qq.com/login?u={0}&amp;p={1}&amp;verifycode={2}&amp;webqq_type=1&amp;remember_uin=1&amp;aid=1002101&amp;u1=http%3A%2F%2Fweb2.qq.com%2Floginproxy.html%3Fstrong%3Dtrue&amp;h=1&amp;ptredirect=0&amp;ptlang=2052&amp;from_ui=1&amp;pttype=1&amp;dumy=&amp;fp=loginerroralert"><font color="#0000FF" face="微软雅黑"><span style="font-size:11pt"><u>http://ptlogin2.qq.com/login?u={0}&amp;p={1}&amp;verifycode={2}&amp;webqq_type=1&amp;remember_uin=1&amp;aid=1002101&amp;u1=http%3A%2F%2Fweb2.qq.com%2Floginproxy.html%3Fstrong%3Dtrue&amp;h=1&amp;ptredirect=0&amp;ptlang=2052&amp;from_ui=1&amp;pttype=1&amp;dumy=&amp;fp=loginerroralert</u></span></font></a></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">登陆</span></font></div><div align="left"><a href="http://captcha.qq.com/getimage?aid={0}&amp;r={1}&amp;uin={2}&amp;vc_type=!XGB"><font color="#0000FF" face="微软雅黑"><span style="font-size:11pt"><u>http://captcha.qq.com/getimage?aid={0}&amp;r={1}&amp;uin={2}&amp;vc_type=!XGB</u></span></font></a></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">验证玛</span></font></div><div align="left"><a href="http://www.56.com/w48/play_album-aid-9917841_vid-NjgyMzcyNTQ.html"><font color="#0000FF" face="微软雅黑"><span style="font-size:11pt"><u>http://www.56.com/w48/play_album-aid-9917841_vid-NjgyMzcyNTQ.html</u></span></font></a></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">视频教程</span></font> <a href="http://www.98yl.com/t-347561--2"><font color="#0000FF" face="微软雅黑"><span style="font-size:11pt"><u>http://www.98yl.com/t-347561--2</u></span></font></a></div><div align="left">  </div><div align="left"><br></div><div align="left"><br></div><div align="left"><div><span style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="text-align: -webkit-left;">_______________________________________________________________</span></span>_________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________</div><div><br></div><div><br></div><div align="left"><a href="http://check.ptlogin2.qq.com/check?uin=654393589&amp;appid=1003903&amp;r=0.8332292532846982"><font color="#0000FF" face="微软雅黑"><span style="font-size:11pt"><u>http://check.ptlogin2.qq.com/check?uin=654393589&amp;appid=1003903&amp;r=0.8332292532846982</u></span></font></a> <font color="#010101" face="微软雅黑"><span style="font-size:11pt">检查是否需要验证马</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">appid  1003903</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">r     0.8332292532846982</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">uin 654393589</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">响应:</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt"><br></span></font></div><div align="left"><a href="http://ptlogin2.qq.com/login?u=654393589&amp;p=4B82E41B4B657AA76534EBBD65339697&amp;verifycode=!JZR&amp;webqq_type=10&amp;remember_uin=1&amp;login2qq=1&amp;aid=1003903&amp;u1=http%3A%2F%2Fweb3.qq.com%2Floginproxy.html%3Flogin2qq%3D1%26webqq_type%3D10&amp;h=1&amp;ptredirect=0&amp;ptlang=2052&amp;from_ui=1&amp;pttype=1&amp;dumy=&amp;fp=loginerroralert&amp;action=4-19-86166&amp;mibao_css=m_webqq&amp;t=1&amp;g=1"><font color="#0000FF" face="微软雅黑"><span style="font-size:11pt"><u>http://ptlogin2.qq.com/login?u=654393589&amp;p=4B82E41B4B657AA76534EBBD65339697&amp;verifycode=!JZR&amp;webqq_type=10&amp;remember_uin=1&amp;login2qq=1&amp;aid=1003903&amp;u1=http%3A%2F%2Fweb3.qq.com%2Floginproxy.html%3Flogin2qq%3D1%26webqq_type%3D10&amp;h=1&amp;ptredirect=0&amp;ptlang=2052&amp;from_ui=1&amp;pttype=1&amp;dumy=&amp;fp=loginerroralert&amp;action=4-19-86166&amp;mibao_css=m_webqq&amp;t=1&amp;g=1</u></span></font></a> <font color="#010101" face="微软雅黑"><span style="font-size:11pt">登陆</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">action 4-19-86166</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">aid 1003903</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">dumy  </span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">fp  loginerroralert</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">from_ui    1</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">g    1</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">h    1</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">login2qq  1</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">mibao_css     m_webqq</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">p    4B82E41B4B657AA76534EBBD65339697</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">ptlang      2052</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">ptredirect      0</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">pttype      1</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">remember_uin    1</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">t     1</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">u    654393589</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">u1  </span></font> <a href="http://web3.qq.com/loginproxy.html?login2qq=1&amp;webqq_type=10"><font color="#0000FF" face="微软雅黑"><span style="font-size:11pt"><u>http://web3.qq.com/loginproxy.html?login2qq=1&amp;webqq_type=10</u></span></font></a></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">verifycode     !JZR</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">webqq_type 10</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt"><br></span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">响应1:Set_Cookie:</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">                  …………</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">                  skey=@qJ4iqhgUK;</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">                  ptwebqq（第三次聊天登陆时要用）=005d60281b6c9baeb9543c668bd93604547e44182b2399bee2aa37835e73b960</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt"><br></span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">响应2:ptuiCB('0','0','http://web3.qq.com/loginproxy.html?login2qq=1&amp;webqq_type=10','0','登录成功！', '哦。');</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt"><br></span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt"><br></span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt"><br></span></font></div><div align="left"><a href="http://d.web2.qq.com/channel/login2"><font color="#0000FF" face="微软雅黑"><span style="font-size:11pt"><u>http://d.web2.qq.com/channel/login2</u></span></font></a></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">同时POST</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">clientid     92251512</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">psessionid     null</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">r      {&quot;status&quot;:&quot;online&quot;,&quot;ptwebqq&quot;:&quot;005d60281b6c9baeb9543c668bd93604547e44182b2399bee2aa37835e73b960&quot;,&quot;passwd_sig&quot;:&quot;&quot;,&quot;clientid&quot;:&quot;92251512&quot;,&quot;psessionid&quot;:null}</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt"><br></span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">//* clientid 的算法在eqq.all.js里。在dom里可以看到他是webqq.eqq.rpcservice下的getclientid方法返回的。</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">     js里边的算法为：clientid = String(k.random(0, 99)) + String((new Date()).getTime() % 1000000) *//</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt"><br></span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">响应:{&quot;retcode&quot;:0,&quot;result&quot;:{&quot;uin&quot;:654393589,&quot;cip&quot;:989714281,&quot;index&quot;:1075,&quot;port&quot;:60143,&quot;status&quot;:&quot;online&quot;,&quot;vfwebqq&quot;:&quot;cf6321b3d76219a6e00b49ad5813b2e53b17fb8c5b7cbc3ff80ffef66efc7854fa943d4b2152fcaa&quot;,&quot;psessionid&quot;:&quot;8368046764001d636f6e6e7365727665725f77656271714031302e3133342e362e3133380000736f000001eb036e0400f54001276d0000000a40714a3469716867554b6d00000028cf6321b3d76219a6e00b49ad5813b2e53b17fb8c5b7cbc3ff80ffef66efc7854fa943d4b2152fcaa&quot;,&quot;user_state&quot;:0,&quot;f&quot;:0}}</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt">注意::vfwebqq以后获取数据都要用到、psessionid发送数据要用到</span></font></div><div align="left"><font color="#010101" face="微软雅黑"><span style="font-size:11pt"><br></span></font></div></div></div>
</div></body></html> 