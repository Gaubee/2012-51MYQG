<html>
<head>
  <title>js 删除数组几种方法 - 钱途无梁 - 博客园</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/267864 (zh-CN); Windows/6.1.7601 Service Pack 1;"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="413"/>
<h1>js 删除数组几种方法 - 钱途无梁 - 博客园</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="background-image:url(http://common.cnblogs.com/Skins/nature/images/bg_day.jpg);background-repeat: no-repeat no-repeat;font-size:14px;font-family:verdana;margin:0px;position:relative;background-color:rgb(255, 255, 255);background-origin:padding-box;background-size:auto;background-position:947px -100px;opacity:1;filter:none;color:rgb(0, 0, 0);line-height:21px;width:931px;"><p style="background-repeat: initial initial;font-size:14px;"><strong style="background-repeat: initial initial;font-size:14px;">数组对象splice方法:arr.splice(1,1);</strong></p><p style="background-repeat: initial initial;font-size:14px;">　　这种方式数组长度相应改变,但是原来的数组索引也相应改变</p><p style="background-repeat: initial initial;font-size:14px;">　　splice参数中第一个1,是删除的起始索引(从0算起),在此是数组第二个元素</p><p style="background-repeat: initial initial;font-size:14px;">　　第二个1,是删除元素的个数,在此只删除一个元素,即'b';</p><p style="background-repeat: initial initial;font-size:14px;">　　此时遍历数组元素可以用普通遍历数组的方式,比如for,因为删除的元素在</p><p style="background-repeat: initial initial;font-size:14px;">　　数组中并不保留</p><p style="background-repeat: initial initial;font-size:14px;">　　* 该方法IE5.5以后才支持</p><p style="background-repeat: initial initial;font-size:14px;">　　值得一提的是splice方法在<a name="baidusnap1" shape="rect"></a><b style="background-repeat: initial initial;font-size:14px;color:black;background-color:rgb(160, 255, 255);">删除数组元素</b>的同时,还可以新增入数组元素</p><p style="background-repeat: initial initial;font-size:14px;">　　比如arr.splice(1,1,'d','e'),d,e两个元素就被加入数组arr了</p><p style="background-repeat: initial initial;font-size:14px;">　　结果数组变成arr:'a','d','e','c'　</p><p style="background-repeat: initial initial;font-size:14px;">　　&lt;big&gt;外一篇：&lt;/big&gt;</p><p style="background-repeat: initial initial;font-size:14px;">　　JavaScript通过设置数组的length属性来截断数组是惟一一种缩短数组长度的方法.如果使用delete运算符来删除数组中元素,虽然那个元素变成未定义的,但是数组的length属性并不改变两种删除元素,数组长度也改变的方法.</p><div><br></div><div>　 /*<br clear="none">
　 *　方法:<strong style="background-repeat: initial initial;font-size:14px;">Array.remove(dx)<br clear="none"></strong>　 *　功能:<b style="background-repeat: initial initial;font-size:14px;color:black;background-color:rgb(160, 255, 255);">删除数组元素</b>.<br clear="none">
　 *　参数:dx删除元素的下标.<br clear="none">
　 *　返回:在原数组上修改数组<br clear="none">
　 */<br clear="none">
　　<br clear="none">
　//经常用的是通过遍历,重构数组.</div><div><div align="left"><font color="#006400" face="Times New Roman"><span style="font-size:11pt">//Array.prototype.remove = function (dx) {</span></font></div><div align="left"><font color="#006400" face="Times New Roman"><span style="font-size:11pt">//    if (isNaN(dx) || dx &gt; this.length) { return false; }</span></font></div><div align="left"><font color="#006400" face="Times New Roman"><span style="font-size:11pt">//    var length = this.length;</span></font></div><div align="left"><font color="#006400" face="Times New Roman"><span style="font-size:11pt">//    for (var i = 0, n = 0; i &lt; this.length; ++i) {</span></font></div><div align="left"><font color="#006400" face="Times New Roman"><span style="font-size:11pt">//        if (this[i] != this[dx]) {</span></font></div><div align="left"><font color="#006400" face="Times New Roman"><span style="font-size:11pt">//            this[n++] = this[i];</span></font></div><div align="left"><font color="#006400" face="Times New Roman"><span style="font-size:11pt">//        }</span></font></div><div align="left"><font color="#006400" face="Times New Roman"><span style="font-size:11pt">//        else {</span></font></div><div align="left"><font color="#006400" face="Times New Roman"><span style="font-size:11pt">//            length -= 1;</span></font></div><div align="left"><font color="#006400" face="Times New Roman"><span style="font-size:11pt">//        }</span></font></div><div align="left"><font color="#006400" face="Times New Roman"><span style="font-size:11pt">//    }</span></font></div><div align="left"><font color="#006400" face="Times New Roman"><span style="font-size:11pt">//    this.length = length;</span></font></div><div align="left"><font color="#006400" face="Times New Roman"><span style="font-size:11pt">//}</span></font></div>
　</div><div><br></div><div style="background-repeat: initial initial;font-size:12px;"><div style="background-repeat: initial initial;font-size:12px;">Array.prototype.remove=<span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 0, 255);">function</span>(dx)<br clear="none">
　{<br clear="none">
　　<span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 0, 255);">if</span>(isNaN(dx)||dx&gt;<span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 0, 255);">this</span>.length){<span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 0, 255);">return</span> <span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 0, 255);">false</span>;}<br clear="none">
　　<span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 0, 255);">for</span>(<span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 0, 255);">var</span> i=0,n=0;i&lt;<span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 0, 255);">this</span>.length;i++)<br clear="none">
　　{<br clear="none">
　　　　<span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 0, 255);">if</span>(<span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 0, 255);">this</span>[i]!=<span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 0, 255);">this</span>[dx])<br clear="none">
　　　　{<br clear="none">
　　　　　　<span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 0, 255);">this</span>[n++]=<span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 0, 255);">this</span>[i]<br clear="none">
　　　　}<br clear="none">
　　}<br clear="none">
　　<span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 0, 255);">this</span>.length-=1<br clear="none">
　}<br clear="none">
　a = ['1','2','3','4','5'];<br clear="none">
　alert(&quot;elements: &quot;+a+&quot;nLength: &quot;+a.length);<br clear="none">
　a.remove(0); <span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 128, 0);">//</span><span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 128, 0);">删除下标为0的元素</span><span style="background-repeat: initial initial;color:rgb(0, 128, 0);"><br clear="none"></span>　alert(&quot;elements: &quot;+a+&quot;nLength: &quot;+a.length);</div></div><p style="background-repeat: initial initial;font-size:14px;">　　<br clear="none">
　</p><div style="background-repeat: initial initial;font-size:12px;"><div style="background-repeat: initial initial;font-size:12px;"><span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 128, 0);">/*</span><span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 128, 0);"><br clear="none">
　 *　方法:Array.baoremove(dx)<br clear="none">
　 *　功能:<b style="background-repeat: initial initial;font-size:12px;color:black;background-color:rgb(160, 255, 255);">删除数组元素</b>.<br clear="none">
　 *　参数:dx删除元素的下标.<br clear="none">
　 *　返回:在原数组上修改数组.<br clear="none">
　 </span><span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 128, 0);">*/</span><br clear="none">
　　<br clear="none">
　<span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 128, 0);">//</span><span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 128, 0);">我们也可以用splice来实现.</span><span style="background-repeat: initial initial;color:rgb(0, 128, 0);"><br clear="none"></span>　　<br clear="none">
　Array.prototype.baoremove = <span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 0, 255);">function</span>(dx)<br clear="none">
　{<br clear="none">
　　<span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 0, 255);">if</span>(isNaN(dx)||dx&gt;<span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 0, 255);">this</span>.length){<span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 0, 255);">return</span> <span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 0, 255);">false</span>;}<br clear="none">
　　<span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 0, 255);">this</span>.splice(dx,1);<br clear="none">
　}<br clear="none">
　b = ['1','2','3','4','5'];<br clear="none">
　alert(&quot;elements: &quot;+b+&quot;nLength: &quot;+b.length);<br clear="none">
　b.baoremove(1); <span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 128, 0);">//</span><span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 128, 0);">删除下标为1的元素</span><span style="background-repeat: initial initial;color:rgb(0, 128, 0);"><br clear="none"></span>　alert(&quot;elements: &quot;+b+&quot;nLength: &quot;+b.length);</div></div><p style="background-repeat: initial initial;font-size:14px;"> </p><p style="background-repeat: initial initial;font-size:14px;">     我们知道，在IE5或更低的版本中，JavaScript的Array（数组）对象并未提供现成的<b style="background-repeat: initial initial;font-size:14px;color:black;background-color:rgb(160, 255, 255);">删除数组元素</b>的方法。在IE5.5+的版本中，虽然有splice方法，但是并不是删除某一项（或几项），而仅仅是将某一项（或几项）的值清除，也就是说该项仍然存在，数组的长度并没有改变。</p><p style="background-repeat: initial initial;font-size:14px;">　　事实上，我们可以自己为数组增加一个删除方法（注意，这里指的是将数组的某一项真正的从数组成员中移除）。或许你会想到用循环来为数组重新赋值，这样做当然可以，但效率很低。</p><p style="background-repeat: initial initial;font-size:14px;">　　下面我们介绍利用Array对象的两个方法slice、concat来自定义删除数组的方法。</p><p style="background-repeat: initial initial;font-size:14px;">　　具体代码如下，请注意里面的注释。</p><p style="background-repeat: initial initial;font-size:14px;">--------------------------------------------------------------</p><div style="background-repeat: initial initial;font-size:12px;"><div style="background-repeat: initial initial;font-size:12px;">Array.prototype.del=<span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 0, 255);">function</span>(n) {　<span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 128, 0);">//</span><span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 128, 0);">n表示第几项，从0开始算起。</span><span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 128, 0);"><br clear="none">
//</span><span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 128, 0);">prototype为对象原型，注意这里为对象增加自定义方法的方法。</span><span style="background-repeat: initial initial;color:rgb(0, 128, 0);"><br clear="none"></span>　<span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 0, 255);">if</span>(n&lt;0)　<span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 128, 0);">//</span><span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 128, 0);">如果n&lt;0，则不进行任何操作。</span><span style="background-repeat: initial initial;color:rgb(0, 128, 0);"><br clear="none"></span>　　<span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 0, 255);">return</span> <span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 0, 255);">this</span>;<br clear="none">
　<span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 0, 255);">else</span><br clear="none">
　　<span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 0, 255);">return</span> <span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 0, 255);">this</span>.slice(0,n).concat(<span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 0, 255);">this</span>.slice(n+1,<span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 0, 255);">this</span>.length));<br clear="none">
　　<span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 128, 0);">/*</span><span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 128, 0);"><br clear="none">
　　　concat方法：返回一个新数组，这个新数组是由两个或更多数组组合而成的。<br clear="none">
　　　　　　　　　这里就是返回this.slice(0,n)/this.slice(n+1,this.length)<br clear="none">
　　 　　　　　　组成的新数组，这中间，刚好少了第n项。<br clear="none">
　　　slice方法： 返回一个数组的一段，两个参数，分别指定开始和结束的位置。<br clear="none">
　　</span><span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 128, 0);">*/</span><br clear="none">
}<br clear="none"><span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 128, 0);">//</span><span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 128, 0);">我们来试一试这个自己增加的方法</span><span style="background-repeat: initial initial;color:rgb(0, 128, 0);"><br clear="none"></span><span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 0, 255);">var</span> test=<span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 0, 255);">new</span> Array(0,1,2,3,4,5);<br clear="none">
test=test.del(3);　<span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 128, 0);">//</span><span style="background-repeat: initial initial;font-size:12px;color:rgb(0, 128, 0);">从0算起，这里也就是删除第4项。</span><span style="background-repeat: initial initial;color:rgb(0, 128, 0);"><br clear="none"></span>alert(test);</div></div><p style="background-repeat: initial initial;font-size:14px;"><br clear="none">
------------------------------------------------------------------------------</p><p style="background-repeat: initial initial;font-size:14px;">　　这样，仅仅灵活运用了Array对象的两个方法，就实现了我们的要求。</p></div></div>
</div></body></html> 